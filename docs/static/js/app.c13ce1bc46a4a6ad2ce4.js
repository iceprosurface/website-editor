webpackJsonp([1],{"+NF2":function(t,e){},"+a1h":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("6T1z"),o=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);var s=n("C5NS");var a=function(t){n("+wEJ")},u=n("Z0/y")(o.a,s.a,!1,a,null,null);e.default=u.exports},"+wEJ":function(t,e){},"/f00":function(t,e,n){"use strict";var i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dragable-menu",class:{lock:t.lock}},[t._m(0),t._v(" "),n("div",{staticClass:"search-box"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],attrs:{type:"text",placeholder:"Search..."},domProps:{value:t.keyword},on:{input:function(e){e.target.composing||(t.keyword=e.target.value)}}})]),t._v(" "),n("div",{ref:"dragableMenu",staticClass:"component-list"},t._l(t.keys,function(t){return n(t+"-ui",{key:t,tag:"component",attrs:{"data-key":t}})}))])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"menu-title"},[e("div",[this._v("\n      拖拽菜单栏\n    ")])])}]};e.a=i},"0WWK":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("TjM3"),o=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);var s=n("WVl9");var a=function(t){n("WtcA")},u=n("Z0/y")(o.a,s.a,!1,a,null,null);e.default=u.exports},"0uv1":function(t,e){},"1/MW":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(n("cUn4")),o=r(n("TjXB"));function r(t){return t&&t.__esModule?t:{default:t}}var s={namespaced:!0,state:{pluginList:null,components:null,plugins:null,pluginUi:null,pluginInstance:null,componentSettings:new i.default,pluginSetting:new i.default},mutations:{init:function(t,e){o.default.call(this,t,e)},setComponentProperies:function(t,e){var n=e.className,i=e.properies;t.componentSettings.set(n,i)}},getters:{getPluginsByPosition:function(t){return function(e){return t.plugins.filter(function(t){return"component"!==t.type&&e===t.position})}}}};e.default=s},"3CX8":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(n("+a1h")),o=s(n("0WWK")),r=s(n("4lYf"));function s(t){return t&&t.__esModule?t:{default:t}}e.default={Ui:o.default,properties:r.default,instance:i.default,type:"component"}},"4Ocy":function(t,e){},"4RTx":function(t,e){},"4lYf":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={mixins:[],editors:["图层",{type:"box-editor"}]}},"4vmu":function(t,e,n){"use strict";var i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("website-editor")],1)},staticRenderFns:[]};e.a=i},"54WF":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(n("P9OV")),o=r(n("qaPn"));function r(t){return t&&t.__esModule?t:{default:t}}e.default={type:"plugin",install:function(t,e){var n=t.component(e,t.extend(i.default));return n.prototype.__className__=e,o.default.state.__className__=e,{type:this.type,position:"left-container",components:[n],store:o.default}}}},"5JhX":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n("6Hvd"),r=(i=o)&&i.__esModule?i:{default:i};e.default={type:"plugin",install:function(t,e){var n=t.component(e,t.extend(r.default));return{type:this.type,position:"tool",components:[n]}}}},"5KRq":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n("BrSd"),r=(i=o)&&i.__esModule?i:{default:i};e.default={name:"App",components:{websiteEditor:r.default}}},"6Hvd":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("NIrS"),o=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);var s=n("MsYq");var a=function(t){n("Meve")},u=n("Z0/y")(o.a,s.a,!1,a,null,null);e.default=u.exports},"6O+M":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("TCWB"),o=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);var s=n("Wkk5");var a=function(t){n("ntVc")},u=n("Z0/y")(o.a,s.a,!1,a,null,null);e.default=u.exports},"6T1z":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{instanceKey:""}}}},"9Lq8":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{keys:[]}},components:{},computed:{leftContainers:function(){return this.$store.getters["application/getPluginsByPosition"]("left-container")}},created:function(){}}},"9QNU":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n("4YfN"),r=(i=o)&&i.__esModule?i:{default:i};e.default={data:function(){return{styles:{display:"flex"},instanceKey:""}},computed:{computedStyle:function(){return(0,r.default)({},this.styles,{minHeight:"100px",minWidth:"100px"})},currentHoverInstanceKey:function(){return this.$store.state.viewport.currentHoverInstanceKey}}}},"9glj":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{}}}},BJkh:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(n("rVsN"));e.mountRoot=function(t,e,n,s,a){return new i.default(function(i,u){var c=null;if(n){var l=document.createElement("span");t.appendChild(l),c=l}else c=t;var d=new o.default({extends:e,mixins:[r.default],store:a});d.__currentInstanceKey__=s,d.$mount(c),i(d)})},e.mountSlot=function(t,e,n,o,s){return new i.default(function(i,a){var u={extends:e,mixins:[r.default,{props:{__currentInstanceKey__:{type:String,default:o}}}],store:s},c=t.$createElement(u);Array.isArray(t.$slots[n])?t.$slots[n].push(c):t.$slots[n]=[c],t.$forceUpdate(),t.$nextTick(function(){i(c)})})};var o=s(n("VCXJ")),r=s(n("p7uW"));function s(t){return t&&t.__esModule?t:{default:t}}},BrSd:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("YBjP"),o=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);var s=n("v5RQ");var a=function(t){n("+NF2")},u=n("Z0/y")(o.a,s.a,!1,a,null,null);e.default=u.exports},C5NS:function(t,e,n){"use strict";var i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"button-instance"},[e("button",[this._v("button")])])}]};e.a=i},CTnr:function(t,e,n){"use strict";var i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"page-right"},this._l(this.tool,function(t,n){return e(t.key,{key:n,tag:"component"})}))},staticRenderFns:[]};e.a=i},Cgw2:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("bJwd"),o=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);var s=n("R/cM");var a=function(t){n("Zai9")},u=n("Z0/y")(o.a,s.a,!1,a,"data-v-69cab469",null);e.default=u.exports},DuOc:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(n("VCXJ")),o=r(n("IcnI"));function r(t){return t&&t.__esModule?t:{default:t}}e.default=new i.default({methods:{viewportMouseout:function(){this.$store.commit("viewport/setCurrentHoverInstanceKey",null),this.$emit("viewport-mouseout")},domMouseHover:function(t){this.$store.commit("viewport/setCurrentHoverInstanceKey",t),this.$emit("dom-mouse-hover",t)},GlobalClick:function(){this.$store.commit("viewport/setCurrentInstanceKey",null),this.$emit("global-click")}},store:o.default})},En7F:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{}},computed:{editorComponents:{},editors:function(){return{}}}}},GZNB:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={mixins:[],editors:["图层",{type:"box-editor"}]}},H6co:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(n("obeV")),o=s(n("s+A3")),r=s(n("GZNB"));function s(t){return t&&t.__esModule?t:{default:t}}e.default={Ui:o.default,instance:i.default,properties:r.default,isContainer:!0,type:"component"}},HLb7:function(t,e,n){"use strict";var i={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"editor-tool-manager"},[this._v("\n  toolManager\n")])},staticRenderFns:[]};e.a=i},HS1g:function(t,e,n){"use strict";var i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container-ui"},[e("span",{staticClass:"ui-content"},[this._v("contaner")]),this._v(" "),e("div",{staticClass:"dragging-content container-dragging"},[e("div",{staticClass:"display-name"},[this._v("默认容器")])])])}]};e.a=i},IcnI:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(n("9rMa")),o=a(n("VCXJ")),r=a(n("1/MW")),s=a(n("hO2O"));function a(t){return t&&t.__esModule?t:{default:t}}o.default.use(i.default);var u=new i.default.Store({state:{dataVersion:"0.1"},modules:{application:r.default,viewport:s.default}});u.commit("application/init",u),e.default=u},M93x:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("5KRq"),o=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);var s=n("4vmu");var a=function(t){n("bYJq")},u=n("Z0/y")(o.a,s.a,!1,a,null,null);e.default=u.exports},Meve:function(t,e){},MsYq:function(t,e,n){"use strict";var i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"editor-manager"},[this.currentInstance?e("div",this._l(this.editorTools,function(t,n){return e(t.key,{key:n,tag:"component"})})):e("div",[e("p",[this._v("尚未选择组件")])])])},staticRenderFns:[]};e.a=i},N3dW:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n("oEQ7"),r=(i=o)&&i.__esModule?i:{default:i};e.default={type:"plugin",install:function(t,e){var n=t.component(e,t.extend(r.default));return{type:this.type,position:"editorTool",components:[n]}}}},N7WC:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("9Lq8"),o=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);var s=n("UNIm");var a=function(t){n("4Ocy")},u=n("Z0/y")(o.a,s.a,!1,a,null,null);e.default=u.exports},NHnr:function(t,e,n){"use strict";var i=u(n("VCXJ")),o=u(n("M93x")),r=u(n("YaEn")),s=u(n("IcnI")),a=u(n("lVK7"));function u(t){return t&&t.__esModule?t:{default:t}}i.default.config.productionTip=!1,i.default.use(a.default,{store:s.default}),new i.default({el:"#app",router:r.default,components:{App:o.default},template:"<App/>",store:s.default})},NIrS:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{}},computed:{currentInstance:function(){return this.$store.state.viewport.instances.get(this.$store.state.viewport.currentInstanceKey)},editorTools:function(){return this.$store.getters["application/getPluginsByPosition"]("editorTool")}}}},OJ53:function(t,e,n){"use strict";var i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"page",on:{click:this.globalClick}},[e("page-left",{staticClass:"page-item"}),this._v(" "),e("page-middle",{staticClass:"page-item"}),this._v(" "),e("page-right",{staticClass:"page-item"})],1)},staticRenderFns:[]};e.a=i},Odn3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n("DuOc"),r=(i=o)&&i.__esModule?i:{default:i};e.default={data:function(){return{}},computed:{viewportStore:function(){return this.$store.state.viewport},applicationStore:function(){return this.$store.state.application},viewport:function(){return this.$store.getters["application/getPluginsByPosition"]("viewport")}},methods:{mouseleave:function(){r.default.viewportMouseout()}},mounted:function(){this.$store.commit("viewport/initViewport",{viewportDom:this.$refs.viewport,store:this.$store})}}},P9OV:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("rT1e"),o=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);var s=n("/f00");var a=function(t){n("4RTx")},u=n("Z0/y")(o.a,s.a,!1,a,null,null);e.default=u.exports},QL9e:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("Odn3"),o=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);var s=n("W5eI");var a=function(t){n("iKVD")},u=n("Z0/y")(o.a,s.a,!1,a,null,null);e.default=u.exports},QLzl:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(n("N7WC")),o=a(n("QL9e")),r=a(n("lTG5")),s=a(n("DuOc"));function a(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){return{}},components:{pageLeft:i.default,pageRight:r.default,pageMiddle:o.default},methods:{globalClick:function(){s.default.GlobalClick()}}}},"R/cM":function(t,e,n){"use strict";var i={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:this.isShow&&this.guildLineShow,expression:"isShow && guildLineShow"}],staticClass:"guildline-container",style:this.dymStyle})},staticRenderFns:[]};e.a=i},TCWB:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{}}}},TjM3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{}},methods:{},mounted:function(){}}},TjXB:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=c(n("4YfN")),o=c(n("IHPB")),r=c(n("cUn4"));e.default=function(t,e){var n=this,c=new r.default,d=new r.default,f=new r.default,v=[],p=[],_=l.keys().map(function(t){var r=(0,u.default)(t.match(/^\.\/([\w-]+)\/index.js$/)[1]),_=l(t).default;if("component"===_.type){_.Ui.mixins=[].concat((0,o.default)(_.Ui.mixins||[]),[a.ui]);var m=s.default.component(r+"-instance",s.default.extend(_.instance)),h=s.default.component(r+"-ui",s.default.extend(_.Ui));m.prototype.__className__=r,m.prototype._isContainer=_.isContainer,h.prototype.__className__=r,c.set(r,m),d.set(r,h),v.push(r),n.commit("application/setComponentProperies",_.properties)}else{var y=_.install(s.default,r);p.push((0,i.default)({key:r},y)),y.store&&e.registerModule((0,u.default)(r),y.store)}return f.set((0,u.default)(r),_),r});t.pluginInstance=c,t.pluginUi=d,t.pluginList=_,t.components=v,t.plugins=p,t.pluginSetting=f};var s=c(n("VCXJ")),a=n("dHlI"),u=c(n("kMYu"));function c(t){return t&&t.__esModule?t:{default:t}}var l=n("xJiB")},UNIm:function(t,e,n){"use strict";var i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"page-left"},this._l(this.leftContainers,function(t,n){return e(t.key,{key:n,tag:"component"})}))},staticRenderFns:[]};e.a=i},Uodz:function(t,e){},W5eI:function(t,e,n){"use strict";var i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"page-middle viewport",on:{mouseleave:this.mouseleave}},[this._l(this.viewport,function(t,n){return e(t.key,{key:n,tag:"component"})}),this._v(" "),e("div",{ref:"viewport",staticClass:"page-root"})],2)},staticRenderFns:[]};e.a=i},WVl9:function(t,e,n){"use strict";var i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"button-ui"},[e("div",{staticClass:"ui-content"},[this._v("button")]),this._v(" "),e("div",{staticClass:"dragging-content button-dragging"},[e("button",[this._v("默认文字")])])])}]};e.a=i},Wkk5:function(t,e,n){"use strict";var i={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"box-editor"},[this._v("\n  boxEditor\n")])},staticRenderFns:[]};e.a=i},WtcA:function(t,e){},XNoM:function(t,e){},YBjP:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n("pDxs"),r=(i=o)&&i.__esModule?i:{default:i};e.default={name:"websiteEditor",data:function(){return{}},components:{page:r.default}}},YaEn:function(t,e,n){"use strict"},Zai9:function(t,e){},axkp:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{}},computed:{tool:function(){return this.$store.getters["application/getPluginsByPosition"]("tool")}}}},bJwd:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{dymStyle:{},isShow:!1}},computed:{guildLineShow:function(){return!this.$store.state.viewport.dragInfo}},methods:{calc:function(){if(null!==this.$store.state.viewport.currentHoverInstanceKey){var t=this.$store.state.viewport.currentHoverInstanceKey,e=this.$store.state.viewport.instances.get(t).vm.$el.getBoundingClientRect(),n=this.$store.state.viewport.viewportDom.getBoundingClientRect();this.dymStyle={width:e.width-2+"px",height:e.height-2+"px",top:e.top-n.top+1+"px",left:e.left-n.left+1+"px"},this.isShow=!0}else this.isShow=!1},setShowOff:function(){this.isShow=!1}},destroyed:function(){this.websiteEditEventBus.$off("dom-mouse-hover",this.calc),this.websiteEditEventBus.$off("viewport-mouseout",this.setShowOff)},mounted:function(){this.websiteEditEventBus.$on("dom-mouse-hover",this.calc),this.websiteEditEventBus.$on("viewport-mouseout",this.setShowOff)}}},bYJq:function(t,e){},dHlI:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorToolMixins=e.ui=void 0;var i,o=n("gwS9"),r=(i=o)&&i.__esModule?i:{default:i};e.ui={methods:{__registerEvent__:function(){this.$el.removeEventListener("click",this.__uiClick__),this.$el.addEventListener("click",this.__uiClick__)},__uiClick__:function(){this.$store.commit("viewport/uiClick",this.__className__)}},mounted:function(){this.__registerEvent__()}},e.editorToolMixins={data:{field:null,value:null},computed:{currentInstanceKey:function(){return this.$store.state.viewport.currentInstanceKey}},props:{instanceInfo:{type:Object}},watch:{currentInstanceKey:function(){this.initCurrentField()},value:function(t){this.$store.commit("viewport/setInstanceProps",{vm:this.instanceInfo.vm,key:this.field,value:t})}},methods:{initCurrentField:function(){var t=this.instanceInfo.vm.$data,e=(0,r.default)(t,this.field);e&&(this.value=e)}}}},geQC:function(t,e,n){"use strict";function i(t,e){return t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}Object.defineProperty(e,"__esModule",{value:!0}),e.hasClass=i,e.removeClass=function(t,e){if(i(t,e)){var n=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(n," ")}},e.addClass=function(t,e){i(t,e)||(""===t.className?t.className=""+e:t.className+=" "+e)}},hO2O:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=d(n("4YfN")),o=d(n("cUn4")),r=d(n("v7Bc")),s=d(n("fMdS")),a=d(n("oROA")),u=n("BJkh"),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n("HOBB")),l=d(n("DuOc"));function d(t){return t&&t.__esModule?t:{default:t}}e.default={namespaced:!0,state:{currentHoverInstanceKey:null,currentInstanceKey:null,viewportDom:null,rootInstanceKey:null,instances:new o.default,dragInfo:null},mutations:{setDrag:function(t,e){l.default.$emit("drag-start",e),t.dragInfo=e},setDragInfo:function(t,e){t.dragInfo.info||(t.dragInfo.info={}),t.dragInfo.info=(0,i.default)({},t.dragInfo.info,e)},endDrag:function(t){l.default.$emit("drag-end"),t.dragInfo=null},setCurrentHoverInstanceKey:function(t,e){t.currentHoverInstanceKey=e},setHoverInstanceToActive:function(t){t.currentInstanceKey=t.currentHoverInstanceKey},initViewport:function(t,e){var n=e.viewportDom,i=e.store;t.viewportDom=n,t.rootInstanceKey="root",this.commit("viewport/addInstance",{instanceKey:"root",className:"container",parentInstanceKey:null,indexPosition:0,slotName:"default",onMount:function(e,n){var o=t.instances.get("root"),r=i.state.application.pluginInstance.get(o.__className__);(0,u.mountRoot)(t.viewportDom,r,!1,"root",i).then(function(){n()})}})},setCurrentInstanceKey:function(t,e){t.currentInstanceKey=e},setInstanceProps:function(t,e){var n=e.vm,o=e.path,r=e.value;if("[object Object]"===Object.prototype.toString.call(r)){var u=(0,s.default)(n.$data,o);(0,a.default)(n.$data,o,(0,i.default)({},u,r))}else(0,a.default)(n.$data,o,r);n.$forceUpdate()},registerInnerDrag:function(t,e){var n=this,i=e.parentInstanceKey,o=e.dragParentDom,r=e.onDragAdd,s=e.groupName,a=void 0===s?"instance-container":s,u=t.instances.get(i);c.create(o,{draggable:".component-instance",animation:50,group:{name:a,pull:!0,put:["dragable-menu",a]},onStart:function(t){var e=t.item,i=t.from.dataset.slotName;n.commit("viewport/setDrag",{type:"viewport",className:e.dataset.key,dragStartParentDom:o,dragStartIndex:t.oldIndex,info:{domInstanceKey:u.slots[i][t.oldIndex]}})},onEnd:function(t){n.commit("viewport/endDrag")},onUpdate:function(t){var e=t.from.dataset.slotName;n.commit("viewport/horizontalMoveInstance",{parentKey:i,beforeIndex:t.oldIndex,afterIndex:t.newIndex,slotName:e})},onRemove:function(e){var o=e.to.dataset.slotName,r=e.from.dataset.slotName,s=t.instances.get(i).slots[o][t.dragInfo.dragStartIndex],a=t.dragInfo.info;n.commit("viewport/moveInstance",{sourceTargetKey:s,targetParentKey:a.targetInstanceKey,targetIndex:a.targetIndex,fromSlotName:r,toSlotName:o})},onAdd:function(e){!function(){switch(t.dragInfo.type){case"new":var o=t.dragInfo;n.commit("viewport/addInstance",{className:o.className,parentInstanceKey:i,indexPosition:e.newIndex,slotName:"default",parentClassName:u.__className__,onCreated:function(t){r&&r.call(n,e,i,o.className,t,"default")}});break;case"viewport":n.commit("viewport/setDragInfo",{index:e.index,targetInstanceKey:i})}}()}})},moveInstance:function(t,e){var n=e.sourceTargetKey,i=e.targetParentKey,r=e.targetIndex,s=e.fromSlotName,a=e.toSlotName,u=t.instances.get(n),c=t.instances.get(u.parentInstanceKey),l=t.instances.get(i);u.parentInstanceKey!==i?(u.parentInstanceKey=i,l.slots[a]||(l.slots[a]=[]),l.slots[a].splice(r,0,n),c.slots[s]=c.slots[s].filter(function(t){return t!==n})):this.commit("viewport/horizontalMoveInstance",{parentKey:i,beforeIndex:c.slots[s].findIndex(function(t){return t===n}),afterIndex:r}),t.instances=new o.default(t.instances)},horizontalMoveInstance:function(t,e){var n=e.parentKey,i=e.beforeIndex,o=e.afterIndex,r=e.slotName,s=t.instances.get(n);if(i<o)for(var a=i;a<o;a++){var u=s.slots[r][a],c=s.slots[r][a+1];s.slots[r][a]=c,s.slots[r][a+1]=u}else for(var l=i;l>o;l--){var d=s.slots[r][l],f=s.slots[r][l-1];s.slots[r][l]=f,s.slots[r][l-1]=d}},addInstance:function(t,e){var n=this,i=e.instanceKey,s=e.className,a=e.parentClassName,u=e.parentInstanceKey,c=e.onCreated,l=e.onMount,d=e.slotName,f=e.indexPosition,v=i||(0,r.default)("_instance_");t.instances.set(v,{__instanceKey__:v,__className__:s,data:{props:null},slots:{},vm:null,parentClassName:a,parentInstanceKey:u}),t.instances=new o.default(t.instances);var p,_=t.instances.get(v);c&&c(v),u?((p=t.instances.get(u)).slots[d]||(p.slots[d]=[]),p.slots[d].splice(f,0,v),p.vm.__mountChild__(p.vm,v,d,function(){n.commit("viewport/setInstanceProps",{vm:_.vm,path:"instanceKey",value:v}),console.log(p.vm)})):l(v,function(){n.commit("viewport/setInstanceProps",{vm:_.vm,path:"instanceKey",value:v})})}}}},i2yX:function(t,e){},iKVD:function(t,e){},lTG5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("axkp"),o=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);var s=n("CTnr");var a=function(t){n("i2yX")},u=n("Z0/y")(o.a,s.a,!1,a,null,null);e.default=u.exports},lVK7:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(n("BrSd")),o=a(n("1/MW")),r=a(n("hO2O")),s=a(n("DuOc"));function a(t){return t&&t.__esModule?t:{default:t}}var u={install:function(t,e){var n=e.store;n?(n.state.application||(n.registerModule("application",o.default),n.commit("application/init",n)),n.state.viewport||n.registerModule("viewport",r.default),t.component("web-editor",i.default),t.prototype.websiteEditEventBus=s.default,window.$store=n):console.error("web editor 需要 vuex")}};e.default=u},ndqZ:function(t,e){},ntVc:function(t,e){},oEQ7:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("En7F"),o=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);var s=n("HLb7");var a=function(t){n("0uv1")},u=n("Z0/y")(o.a,s.a,!1,a,null,null);e.default=u.exports},obeV:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("9QNU"),o=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);var s=n("yPrX");var a=function(t){n("Uodz")},u=n("Z0/y")(o.a,s.a,!1,a,null,null);e.default=u.exports},p7uW:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n("BJkh"),r=n("DuOc"),s=(i=r)&&i.__esModule?i:{default:i},a=n("geQC");e.default={data:function(){return{__currentInstanceInfo__:null}},methods:{__registerEvent:function(){this.$el.removeEventListener("click",this.__clicked__),this.$el.removeEventListener("mouseover",this.__mouseover__),this.$el.addEventListener("click",this.__clicked__),this.$el.addEventListener("mouseover",this.__mouseover__)},__mouseover__:function(t){t.stopPropagation(),s.default.domMouseHover(this.__currentInstanceInfo__.__instanceKey__)},__clicked__:function(){event.stopPropagation(),this.$store.commit("viewport/setCurrentInstanceKey",this.__currentInstanceKey__)},__mountChild__:function(t,e,n,i){var r=this.$store.state.viewport.instances.get(e),s=this.$store.state.application.pluginInstance.get(r.__className__);r.vm=this,(0,o.mountSlot)(t,s,n,e,this.$store).then(function(t){i(t)})},__refresh__:function(){var t=this.$store.state.viewport.instances.get(this.__currentInstanceKey__),e=this.$store.state.application.pluginSetting.get(t.__className__);e&&e.isContainer&&this.$store.commit("viewport/registerInnerDrag",{parentInstanceKey:this.__currentInstanceKey__,dragParentDom:this.$el,onDragAdd:function(){}})}},mounted:function(){(0,a.addClass)(this.$el,"component-instance"),this.__currentInstanceKey__&&(this.__registerEvent(),this.__currentInstanceInfo__=this.$store.state.viewport.instances.get(this.__currentInstanceKey__),this.__currentInstanceInfo__.vm=this,this.__currentInstanceInfo__.data=this.$data,this.__refresh__())}}},pDxs:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("QLzl"),o=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);var s=n("OJ53");var a=function(t){n("XNoM")},u=n("Z0/y")(o.a,s.a,!1,a,"data-v-58f9a168",null);e.default=u.exports},qEth:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n("Cgw2"),r=(i=o)&&i.__esModule?i:{default:i};e.default={type:"plugin",install:function(t,e){var n=t.component(e,t.extend(r.default));return{type:this.type,position:"viewport",components:[n]}}}},qaPn:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n("HOBB"),r=(i=o)&&i.__esModule?i:{default:i};e.default={namespaced:!0,state:{__className__:null,dragStartDataReady:!1,lock:!1},mutations:{endDrag:function(t){this.commit("viewport/endDrag"),t.lock=!1},registerDragMenus:function(t,e){var n=this,i=-1;r.default.create(e,{animation:50,group:{name:"dragable-menu",pull:"clone",put:!1},sort:!1,delay:0,onStart:function(o){t.lock=!0;var r=o.item;i=o.oldIndex,t.dragStartDataReady=!1,n.commit("viewport/setDrag",{type:"new",className:r.dataset.key,dragStartParentDom:e,dragStartIndex:o.oldIndex})},onEnd:function(o){n.commit(t.__className__+"/endDrag"),o.clone.parentNode&&(e.removeChild(o.clone),i===e.childNodes.length?e.appendChild(o.item):e.insertBefore(o.item,e.childNodes[i]))},onAdd:function(t){console.log("added")}})}}}},rT1e:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n("kMYu"),r=(i=o)&&i.__esModule?i:{default:i};e.default={data:function(){return{keyword:""}},computed:{keys:function(){var t=new RegExp(this.keyword);return this.$store.state.application.components.filter(function(e){return t.test(e)})},lock:function(){return this.$store.state[this.__className__].lock}},mounted:function(){this.$store.commit((0,r.default)(this.__className__)+"/registerDragMenus",this.$refs.dragableMenu)}}},"s+A3":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("9glj"),o=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);var s=n("HS1g");var a=function(t){n("ndqZ")},u=n("Z0/y")(o.a,s.a,!1,a,null,null);e.default=u.exports},v5RQ:function(t,e,n){"use strict";var i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"website-editor"},[e("page")],1)},staticRenderFns:[]};e.a=i},xJiB:function(t,e,n){var i={"./box-editor/index.js":"yNyj","./btn/index.js":"3CX8","./container/index.js":"H6co","./dragable-menu/index.js":"54WF","./editor-manager/index.js":"5JhX","./editor-tool-manager/index.js":"N3dW","./viewport-guildline/index.js":"qEth"};function o(t){return n(r(t))}function r(t){var e=i[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}o.keys=function(){return Object.keys(i)},o.resolve=r,t.exports=o,o.id="xJiB"},yNyj:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n("6O+M"),r=(i=o)&&i.__esModule?i:{default:i};e.default={type:"plugin",install:function(t,e){var n=t.component(e,t.extend(r.default));return{type:this.type,position:"editor-tool",components:[n]}}}},yPrX:function(t,e,n){"use strict";var i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container",style:this.computedStyle,attrs:{"data-slot-name":"default"}},[e("div",{staticClass:"instance-name",class:{hover:this.currentHoverInstanceKey===this.instanceKey}},[this._v(this._s(this.instanceKey))]),this._v(" "),this._t("default")],2)},staticRenderFns:[]};e.a=i}},["NHnr"]);
//# sourceMappingURL=app.c13ce1bc46a4a6ad2ce4.js.map